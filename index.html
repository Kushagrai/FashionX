<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Immersive Experience</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 100%;
            font-family: 'Barlow Condensed', sans-serif;
        }

        /* Hero Section - FIXED behind everything */
        .hero {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background-image: url('model.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            z-index: 1;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 20%;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0) 100%);
            pointer-events: none;
            z-index: 1;
        }

        header {
            position: relative;
            z-index: 10;
            width: 100%;
            padding: 2rem 4rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
        }

        .brand {
            font-size: 1.5rem;
            font-weight: 700;
            letter-spacing: 0.1em;
            cursor: pointer;
            opacity: 0.9;
            transition: opacity 0.3s ease;
        }

        .brand-x {
            font-size: 2.5rem;
            margin-left: 2px;
            font-weight: 600;
            line-height: 0.8;
            vertical-align: sub;
        }

        .brand:hover {
            opacity: 1;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 3rem;
        }

        nav a {
            text-decoration: none;
            color: white;
            font-size: 1.1rem;
            font-weight: 400;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            position: relative;
            padding-bottom: 5px;
            opacity: 0.8;
            transition: all 0.3s ease;
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 1px;
            background-color: white;
            transition: width 0.3s ease;
        }

        nav a:hover {
            opacity: 1;
        }

        nav a:hover::after {
            width: 100%;
        }

        .hero-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            padding-left: 15vw;
            padding-bottom: 5vh;
            position: relative;
            z-index: 10;
            text-align: left;
            color: white;
        }

        .hero-title {
            font-size: 11rem;
            line-height: 0.85;
            letter-spacing: -0.03em;
            text-transform: uppercase;
            font-weight: 600;
            margin-left: -8px;
            opacity: 0;
            will-change: transform, opacity, filter;
            animation: blurReveal 1.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            animation-delay: 0.2s;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            font-weight: 300;
            letter-spacing: 0.6em;
            margin-top: 2rem;
            margin-left: 10px;
            text-transform: uppercase;
            opacity: 0;
            will-change: transform, opacity, filter;
            animation: blurReveal 1.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            animation-delay: 0.6s;
        }

        @keyframes blurReveal {
            0% {
                opacity: 0;
                transform: translateY(60px) scale(0.95);
                filter: blur(25px);
            }

            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
                filter: blur(0);
            }
        }

        /* ============================================
           STACKING CARDS - JS-driven approach
           ============================================ */

        /* Each slot takes up 100vh of scroll space */
        .card-slot {
            height: 100vh;
            position: relative;
        }

        /* The card itself */
        .card {
            position: absolute;
            bottom: 0;
            /* Sits at bottom of slot — enters viewport from below */
            left: 5vw;
            right: 5vw;
            height: 75vh;
            background: rgba(10, 10, 10, 0.85);
            backdrop-filter: blur(40px);
            -webkit-backdrop-filter: blur(40px);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            box-shadow: 0 -8px 50px rgba(0, 0, 0, 0.7);
            will-change: transform;
        }

        /* When JS adds this class, the card locks in place */
        .card.is-stuck {
            position: fixed;
        }

        .card h2 {
            font-size: 4rem;
            text-transform: uppercase;
            font-weight: 600;
            letter-spacing: -0.02em;
            margin-bottom: 1rem;
            opacity: 0.9;
        }

        .card p {
            font-size: 1.2rem;
            font-weight: 300;
            opacity: 0.7;
            max-width: 600px;
            text-align: center;
            line-height: 1.6;
            padding: 0 2rem;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            header {
                padding: 1.5rem;
            }

            nav ul {
                gap: 1.5rem;
            }

            .hero-title {
                font-size: 5rem;
            }

            .card h2 {
                font-size: 2.5rem;
            }

            .card {
                left: 3vw;
                right: 3vw;
                border-radius: 24px;
            }
        }
    </style>
</head>

<body>

    <!-- Fixed hero background -->
    <div class="hero">
        <header>
            <div class="brand">Fashion<span class="brand-x">X</span></div>
            <nav>
                <ul>
                    <li><a href="#">Collection</a></li>
                    <li><a href="#">Gallery</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </nav>
        </header>
        <div class="hero-content">
            <h1 class="hero-title">Essence</h1>
            <p class="hero-subtitle">Redefining Perspectives</p>
        </div>
    </div>

    <!-- Spacer: user scrolls through 100vh of hero before cards begin -->
    <div class="card-slot" style="pointer-events:none;"></div>

    <!-- Card slots: each 100vh tall, card inside gets fixed by JS -->
    <div class="card-slot">
        <div class="card" data-stick-top="10">
            <h2>Sustainable Future</h2>
            <p>Crafting a new era of fashion where ethics meet aesthetics. We prioritize materials that respect the
                planet without compromising on luxury.</p>
        </div>
    </div>
    <div class="card-slot">
        <div class="card" data-stick-top="13">
            <h2>Digital Craftsmanship</h2>
            <p>Merging traditional tailoring with cutting-edge digital fabrication. Every stitch is calculated, every
                silhouette is simulated.</p>
        </div>
    </div>
    <div class="card-slot">
        <div class="card" data-stick-top="16">
            <h2>Global Influence</h2>
            <p>From the streets of Tokyo to the runways of Milan. Our designs transcend borders, creating a universal
                language of style.</p>
        </div>
    </div>
    <div class="card-slot">
        <div class="card" data-stick-top="19">
            <h2>Infinite Canvas</h2>
            <p>The screen is our fabric. Exploring the intersection of technology and wearable art in a space without
                physical limitations.</p>
        </div>
    </div>

    <!-- Lenis Smooth Scroll -->
    <script src="https://unpkg.com/lenis@1.1.20/dist/lenis.min.js"></script>
    <script>
        // Lenis for smooth scrolling
        const lenis = new Lenis({
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            smooth: true,
        });

        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);

        // ---- Card Stacking Logic ----
        // Each card starts as position:absolute inside its slot.
        // When the slot scrolls up so the card would be at its target `top`,
        // the card becomes position:fixed and STAYS on screen.
        // The next card then scrolls up from below and fixes ON TOP of it.

        const cards = document.querySelectorAll('.card[data-stick-top]');

        function handleScroll() {
            const vh = window.innerHeight / 100;

            cards.forEach((card, index) => {
                const slot = card.parentElement;
                const stickTopVh = parseFloat(card.dataset.stickTop);
                const stickTopPx = stickTopVh * vh;

                if (card.classList.contains('is-stuck')) {
                    // Card is already fixed. Check if user scrolled back up.
                    // Un-stick when the slot's bottom minus card height goes below the stick point.
                    const slotRect = slot.getBoundingClientRect();
                    const unstickPoint = slotRect.bottom - card.offsetHeight;
                    if (unstickPoint > stickTopPx) {
                        card.classList.remove('is-stuck');
                        card.style.top = '';
                        card.style.zIndex = '';
                    }
                } else {
                    // Card is not fixed yet. It scrolls naturally (absolute, bottom:0).
                    // Check its actual position on screen.
                    const cardRect = card.getBoundingClientRect();
                    if (cardRect.top <= stickTopPx) {
                        // Card has reached the stick point — lock it!
                        card.classList.add('is-stuck');
                        card.style.top = stickTopPx + 'px';
                        card.style.left = '5vw';
                        card.style.right = '5vw';
                        card.style.zIndex = 10 + index;
                    }
                }
            });
        }

        // Run on every scroll tick from Lenis
        lenis.on('scroll', handleScroll);
        // Also attach to native scroll as fallback
        window.addEventListener('scroll', handleScroll, { passive: true });
        // Run once on load
        handleScroll();
    </script>

</body>

</html>